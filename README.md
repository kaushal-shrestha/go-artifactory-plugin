## [Artifactory](http://www.jfrog.com/home/v_artifactorypro_overview) plugin for ThoughtWorks [GoCD](http://www.go.cd/)

This project is a simplified fork from [TusharM](https://github.com/tusharm/go-artifactory-plugin) since he doesn't update the plugin anymore and it wasn't compatible with GoCD most recent versions (>=17.2).

It does **not** upload Artifacts with build *properties* as the original plugin did.

### Features

+ Uploads artifact(s) to Artifactory  (includes verifying checksum against that generated by Artifactory)
+ Uploads build details 

The plugin requires these environment variables to be set for the GoCD task

+ ARTIFACTORY_URL 
+ ARTIFACTORY_USER
+ ARTIFACTORY_PASSWORD


### Installation

Download the [plugin jar](FIX THIS FILE) and copy to the _plugins/external_ directory 
on the GoCD server and restart. Refer to "Installing a plugin" section of [Go Documentation](http://www.thoughtworks.com/products/docs/go/current/help/go_plugins_basics.html) for details.

The log file (`plugin-com.tw.go.plugins.go-artifactory-plugin.log`) is created on GoCD agent (e.g. on Linux, inside `/var/lib/go-agent`). 

You can get better log messages by setting plugin log level in Go Agent startup configuration e.g. 
`export GO_AGENT_SYSTEM_PROPERTIES=" -Dplugin.com.tw.go.plugins.go-artifactory-plugin.log.level=DEBUG "`

The plugin internally uses Apache HttpClient to talk to Artifactory REST API. If you want to see HTTP messages on the wire, 
you can enable logging for HttpClient e.g. by setting this in GoCD Agent start up config: 

```
export GO_AGENT_SYSTEM_PROPERTIES=" -Dplugin.com.tw.go.plugins.go-artifactory-plugin.log.level=DEBUG -Dorg.apache.commons.logging.Log=org.apache.commons.logging.impl.SimpleLog 
-Dorg.apache.commons.logging.simplelog.showdatetime=true 
-Dorg.apache.commons.logging.simplelog.log.org.apache.http=DEBUG 
-Dorg.apache.commons.logging.simplelog.log.org.apache.http.wire=ERROR
```

### Screenshots


#### Global configuration
![](images/artifactory_config.png?raw=true)


#### Artifactory task 
![](images/artifactory_task.png?raw=true)


#### Task level configuration 
![](images/task_config.png?raw=true)



### License

Go Artifactory Plugin is distributed under the terms of Apache Software License v2.0: http://www.apache.org/licenses/LICENSE-2.0.html

